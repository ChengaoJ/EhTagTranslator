<style>
    .ets-menu{
        position: relative;
    }
    .etc-munu-box{
        position: absolute;
        left: 50%;
        margin-left: -100px;
        top: 20px;
        width: 200px;
        height: 200px;
        background: #fff;
        z-index: 999999;

    }
    @keyframes spring
    {
        from {transform:translate(-5px,-5px) scaleY(0.9) skewX(-6deg);}
        50% {transform:translate(-5px,-5px) scaleY(1) skewX(0);}
        to {transform:translate(-5px,-5px) scaleY(0.9) skewX(6deg);}
    }
    .newWiki
    {
        font-size: 0.7em;
        line-height: 0.7em;
        color: red;
        display: inline-block;
        text-shadow:
                white 1px 1px 1px,
                white 1px -1px 1px,
                white -1px 1px 1px,
                white -1px -1px 1px;
        transform-origin: center bottom;
        animation: spring 0.5s ease-in-out infinite alternate;
    }
    .etc-munu-box{
        padding: 8px;
        display:flex;
        flex-direction:column;
        background: #F2EFDF;
        border: 1px solid #5C0D12;
    }

    .etc-munu-info{
        flex: auto;
    }
    .etc-munu-links{
        flex: none;
        display: flex;
    }
    .etc-munu-links a{
        flex: 1;
    }
    .etc-munu-info{
        color:#fff;
        color: #5C0D11;

    }
    .etb-checkbox{

    }

    .isEX .etc-munu-info{
        color:#fff;
    }
    .isEX .etc-munu-box{
        background: #4f535b;
        border: 1px solid #000000;
    }
    /*修复页面太窄 会显示不出来菜单 不知道会不会有什么后遗症*/
    @media screen and (max-width: 990px){
        p#nb {
            overflow: visible !important;
        }
    }

        

</style>
<span class="ets-menu" ng-controller="etb">
    <img ng-src="{{iconImg}}" alt="">
    <a href="#" ng-click="openMenu()">
    {{pluginName}}
    <span class="newWiki" ng-if="newVersion&&newVersion.code != wikiVersion.code">NEW</span>
    </a>

    <div class="etc-munu-box" ng-if="menuShow">

        <div class="etc-munu-info">
            <label><input type="checkbox" ng-change="showRow.change(showRow.value)" ng-model="showRow.value" />TAG临时显示原文</label>
            <br>
            <label><input type="checkbox" ng-change="showRow.change(showRow.value)" ng-model="showRow.double" />TAG临时双语对照</label>
            <div ng-if="newVersion&&wikiVersion">
                <div ng-if="wikiVersion.code==newVersion.code">已是最新版本</div>
                <div ng-if="wikiVersion.code!=newVersion.code">
                    有更新! 发布于{{timetime(newVersion.update_time)}}
                </div>
                <div>
                    {{wikiVersion.code}}...{{newVersion.code}}
                </div>
                <div ng-if="lastVersionCheck">上次检查:{{timetime(lastVersionCheck.time)}}</div>
                <div ng-if="update_time">上次更新:{{timetime(update_time)}}</div>
                <button ng-click="VersionCheck()">立即检查</button>
            </div>
            <div ng-if="!newVersion">未获取到版本信息</div>
            <div ng-if="noData">
                没有翻译数据，请先获取数据
                <br>
                <a target="_blank" href="https://github.com/EhTagTranslation/Database#/ets-open-menu">更新数据</a>
            </div>
        </div>

        <div class="etc-munu-links">
            <a target="_blank" href="https://github.com/EhTagTranslation/Database#/ets-open-menu">更新数据</a>
            <a target="_blank" href="https://github.com/EhTagTranslation/Database#/ets-open-option">修改设置</a>
            <a target="_blank" href="https://github.com/EhTagTranslation/Database/wiki/%E5%8F%82%E4%B8%8E%E7%BF%BB%E8%AF%91">参与翻译</a>
        </div>

    </div>
</span>
